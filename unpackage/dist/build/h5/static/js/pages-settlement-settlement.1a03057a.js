(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-settlement-settlement"],{"22f0":function(e,t,n){"use strict";var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.prepay=o,t.alipay=c,t.recordpay=d,t.recordalipay=l,n("96cf");var i=r(n("3b8d")),a=n("9818");function o(e){return s.apply(this,arguments)}function s(){return s=(0,i.default)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.request.post("/api/pay/weixin-prepay",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),s.apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return u=(0,i.default)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.request.post("/api/pay/alipay-prepay",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),u.apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return f=(0,i.default)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.request.post("/api/pay/weixin-pay-record",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),f.apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return p=(0,i.default)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.request.post("/api/pay/alipay-pay-record",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),p.apply(this,arguments)}},"2cdd":function(e,t,n){"use strict";var r=n("288e"),i=r(n("e143"));i.default.filter("formatMoney",function(e,t){var n="",r=t||2;return"number"!==typeof e||isNaN(e)?e:(n=e.toFixed(r),n)})},"386b":function(e,t,n){var r=n("5ca1"),i=n("79e5"),a=n("be13"),o=/"/g,s=function(e,t,n,r){var i=String(a(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(o,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},"3b2b":function(e,t,n){var r=n("7726"),i=n("5dbc"),a=n("86cc").f,o=n("9093").f,s=n("aae3"),c=n("0bfb"),u=r.RegExp,d=u,f=u.prototype,l=/a/g,p=/a/g,v=new u(l)!==l;if(n("9e1e")&&(!v||n("79e5")(function(){return p[n("2b4c")("match")]=!1,u(l)!=l||u(p)==p||"/a/i"!=u(l,"i")}))){u=function(e,t){var n=this instanceof u,r=s(e),a=void 0===t;return!n&&r&&e.constructor===u&&a?e:i(v?new d(r&&!a?e.source:e,t):d((r=e instanceof u)?e.source:e,r&&a?c.call(e):t),n?this:f,u)};for(var m=function(e){e in u||a(u,e,{configurable:!0,get:function(){return d[e]},set:function(t){d[e]=t}})},_=o(d),g=0;_.length>g;)m(_[g++]);f.constructor=u,u.prototype=f,n("2aba")(r,"RegExp",u)}n("7a56")("RegExp")},5189:function(e,t,n){"use strict";var r=n("288e");n("a481");var i=r(n("e814")),a=r(n("e143"));a.default.filter("formatSeconds",function(e,t){var n=t||"{h}小时{m}分钟{s}秒",r=(0,i.default)(e),a=0,o=0;r>60&&(a=(0,i.default)(r/60),r=(0,i.default)(r%60),a>60&&(o=(0,i.default)(a/60),a=(0,i.default)(a%60)));var s,c,u=""+(0,i.default)(r);a>0&&(s=""+(0,i.default)(a)),o>0&&(c=""+(0,i.default)(o));var d={h:c,m:s,s:u},f=n.replace(/{(h|m|s)+}/g,function(e,t){var n=d[t];return e.length>0&&n<10&&(n=""+n),n||0});return f})},"752d":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"wrap"},[e.orderInfo?n("v-uni-view",{staticClass:"settlement-container"},[n("v-uni-view",{staticClass:"car-info"},[n("v-uni-image",{attrs:{src:e.carInfo&&e.carInfo.car_image||e.orderInfo.car_image}}),n("v-uni-view",[n("v-uni-text",[e._v(e._s(e.orderInfo.car_brand))]),e._v("-"),n("v-uni-text",[e._v(e._s(e.orderInfo.car_plate))])],1)],1),n("v-uni-view",{staticClass:"order-list"},[e.isViolate?n("v-uni-view",[n("v-uni-view",{staticClass:"order-item"},[n("v-uni-text",[e._v("违约金")]),n("v-uni-text",[e._v(e._s(e._f("formatMoney")(e.payRecord.pay_amount))+"元")])],1)],1):n("v-uni-view",[n("v-uni-view",{staticClass:"order-item"},[n("v-uni-text",[e._v("订单编号")]),n("v-uni-text",[e._v(e._s(e.orderInfo.order_no))])],1),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-text",[e._v("租车形式")]),n("v-uni-text",[e._v(e._s(0===e.orderInfo.use_time_type?"按时计费":"按日计费"))])],1),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-text",[e._v("取车时间")]),n("v-uni-text",[e._v(e._s(e._f("formatDate")(e.orderInfo.use_time,"yyyy.MM.dd hh:mm")))])],1),e.payId?n("v-uni-view",{staticClass:"order-item"},[n("v-uni-text",[e._v("日租("+e._s(e.payRecord.use_num)+"天)")]),n("v-uni-text",{staticClass:"red"},[e._v("+"+e._s(e._f("formatMoney")(e.payRecord.use_car_amount))+"元")])],1):n("v-uni-view",{staticClass:"order-item"},[n("v-uni-text",[e._v("还车时间")]),n("v-uni-text",[e._v(e._s(e._f("formatDate")(e.orderInfo.order_end_time,"yyyy.MM.dd hh:mm")))])],1),0===e.orderInfo.use_time_type?n("v-uni-view",[e.orderInfo.half_day_amount>0?n("v-uni-view",{staticClass:"order-block"},[e.orderInfo.times_amount>0?n("v-uni-view",{staticClass:"item-red"},[n("v-uni-view",{staticClass:"item-title"},[e._v("12小时封顶")]),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("驾驶时长("+e._s(e._f("formatSeconds")(e.orderInfo.half_day_power_on_time,"{h}小时{m}分钟"))+")")]),n("v-uni-text",{staticClass:"item-merge item-bottom red"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.half_day_amount))+"元")])],1),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("临停时长("+e._s(e._f("formatSeconds")(e.orderInfo.half_day_power_off_time,"{h}小时{m}分钟"))+")")]),n("v-uni-text",{staticClass:"item-merge item-top green"},[e._v("12小时封顶价")])],1),n("v-uni-view",{staticClass:"item-title"},[e._v("12小时以外")]),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("驾驶时长("+e._s(e._f("formatSeconds")(e.orderInfo.power_on_time,"{h}小时{m}分钟"))+")")]),n("v-uni-text",{},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_on_amount))+"元")])],1),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("临停时长("+e._s(e._f("formatSeconds")(e.orderInfo.power_off_time,"{h}小时{m}分钟"))+")")]),n("v-uni-text",{},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_off_amount))+"元")])],1)],1):n("v-uni-view",[n("v-uni-view",{staticClass:"item-title"},[e._v("12小时封顶")]),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("驾驶时长("+e._s(e._f("formatSeconds")(e.orderInfo.half_day_power_on_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_on_amount))+"元")])],1),n("v-uni-text",{staticClass:"item-merge item-bottom red"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.half_day_power_on_amount))+"元")])],1),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("临停时长("+e._s(e._f("formatSeconds")(e.orderInfo.half_day_power_off_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_off_amount))+"元")])],1),n("v-uni-text",{staticClass:"item-merge item-top green"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.half_day_power_on_amount))+"元")])],1)],1)],1):n("v-uni-view",[e.orderInfo.times_amount<e.orderInfo.order_detail_amount?n("v-uni-view",[n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("驾驶时长("+e._s(e._f("formatSeconds")(e.orderInfo.power_on_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_on_amount))+"元")])],1),n("v-uni-text",{staticClass:"item-merge item-bottom red"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.order_detail_amount))+"元")])],1),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("临停时长("+e._s(e._f("formatSeconds")(e.orderInfo.power_off_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_off_amount))+"元")])],1),n("v-uni-text",{staticClass:"item-merge item-top green"},[e._v("最低消费")])],1)],1):n("v-uni-view",[n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("驾驶时长("+e._s(e._f("formatSeconds")(e.orderInfo.power_on_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_on_amount))+"元")])],1),n("v-uni-text",{staticClass:"item-merge item-bottom red"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.times_amount))+"元")])],1),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("临停时长("+e._s(e._f("formatSeconds")(e.orderInfo.power_off_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_off_amount))+"元")])],1)],1)],1)],1)],1):n("v-uni-view",{staticClass:"order-block"},[e.orderInfo.half_day_amount>0||e.orderInfo.times_amount>0?n("v-uni-view",[e.orderInfo.half_day_amount>0?n("v-uni-view",[e.orderInfo.times_amount>0?n("v-uni-view",[n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("驾驶时长("+e._s(e._f("formatSeconds")(e.orderInfo.half_day_power_on_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_on_amount))+"元")])],1),n("v-uni-text",{staticClass:"item-merge item-bottom red"},[e._v("+"+e._s(e.orderInfo.half_day_amount))])],1),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("临停时长("+e._s(e._f("formatSeconds")(e.orderInfo.half_day_power_off_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_off_amount))+"元")])],1),n("v-uni-text",{staticClass:"item-merge item-top green"},[e._v("12小时封顶价")])],1),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("驾驶时长("+e._s(e._f("formatSeconds")(e.orderInfo.power_on_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_on_amount))+"元")])],1),n("v-uni-text",{staticClass:"item-merge item-bottom red"},[e._v("+"+e._s(e.orderInfo.half_day_amount))])],1),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("临停时长("+e._s(e._f("formatSeconds")(e.orderInfo.power_off_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_off_amount))+"元")])],1),n("v-uni-text",{staticClass:"item-merge item-top green"},[e._v("12小时封顶价")])],1)],1):n("v-uni-view",[n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("驾驶时长("+e._s(e._f("formatSeconds")(e.orderInfo.half_day_power_on_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_on_amount))+"元")])],1),n("v-uni-text",{staticClass:"item-merge item-bottom red"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.half_day_amount))+"元")])],1),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("临停时长("+e._s(e._f("formatSeconds")(e.orderInfo.half_day_power_off_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_off_amount))+"元")])],1),n("v-uni-text",{staticClass:"item-merge item-top green"},[e._v("12小时封顶价")])],1)],1)],1):n("v-uni-view",[n("v-uni-view",[e._v("超时时长("+e._s(e._f("formatSeconds")(e.orderInfo.order_current_times,"{h}小时{m}分钟"))+")")]),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("驾驶时长("+e._s(e._f("formatSeconds")(e.orderInfo.power_on_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_on_amount))+"元")])],1),n("v-uni-text",{staticClass:"item-merge item-bottom red"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.times_amount))+"元")])],1),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-view",[e._v("临停时长("+e._s(e._f("formatSeconds")(e.orderInfo.power_off_time,"{h}小时{m}分钟"))+")"),n("v-uni-text",{staticClass:"gray"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.power_off_amount))+"元")])],1)],1)],1)],1):e._e()],1),e.orderInfo.total_miles?n("v-uni-view",{staticClass:"order-item"},[n("v-uni-text",[e._v("驾驶里程/油耗("+e._s(e.orderInfo.total_miles)+"km/"+e._s(e.orderInfo.oil_num)+"L)")]),n("v-uni-text",{staticClass:"red"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.oil_amount+e.orderInfo.miles_amount))+"元")])],1):e._e(),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-text",[e._v("车损免赔 "+e._s(e.payId?"("+e.payRecord.use_num+"天)":""))]),e.payId?n("v-uni-text",{staticClass:"red"},[e._v("+"+e._s(e._f("formatMoney")(e.payRecord.safe_indemnify_amount))+"元")]):n("v-uni-text",{staticClass:"red"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.safe_indemnify_amount))+"元")])],1),e.payId?e._e():n("v-uni-view",[e.orderInfo.remote_car_money>0?n("v-uni-view",{staticClass:"order-item"},[n("v-uni-text",[e._v("还车服务费")]),n("v-uni-text",{staticClass:"red"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.remote_car_money))+"元")])],1):n("v-uni-view",{staticClass:"order-item"},[n("v-uni-text",[e._v("随还费用")]),n("v-uni-text",{staticClass:"red"},[e._v("+"+e._s(e._f("formatMoney")(e.orderInfo.night_service_fee))+"元")])],1)],1),n("v-uni-view",{staticClass:"order-item"},[e.payId?n("v-uni-text",[e._v("可用优惠券("+e._s(e.payRecord&&e.payRecord.valid_coupon_count)+"张)")]):n("v-uni-text",[e._v("可用优惠券("+e._s(e.info&&e.info.valid_coupon_count)+"张)")]),e.payId?n("v-uni-text",{staticClass:"green",on:{click:function(t){t=e.$handleEvent(t),e.changeCoupons(t)}}},[e._v(e._s(e.payRecord.coupon&&e.payRecord.coupon.text?e.payRecord.coupon.text:"无可用优惠券")+">")]):n("v-uni-text",{staticClass:"green",on:{click:function(t){t=e.$handleEvent(t),e.changeCoupons(t)}}},[e._v(e._s(e.orderInfo.coupon&&e.orderInfo.coupon.text?e.orderInfo.coupon.text:"无可用优惠券")+">")])],1),e.orderInfo&&e.orderInfo.active&&1===e.orderInfo.valid_active_count?n("v-uni-view",{staticClass:"order-item"},[n("v-uni-text",[e._v("优惠活动")]),n("v-uni-text",{staticClass:"green"},[e._v(e._s(e.orderInfo.active.name)+e._s(e.orderInfo.active.text))])],1):e._e(),e.payRecord&&e.payRecord.active&&1===e.payRecord.valid_active_count?n("v-uni-view",{staticClass:"order-item"},[n("v-uni-text",[e._v("优惠活动")]),n("v-uni-text",{staticClass:"green"},[e._v(e._s(e.payRecord.active.name)+e._s(e.payRecord.active.text))])],1):e._e()],1),n("v-uni-view",{staticClass:"line"}),n("v-uni-view",{staticClass:"order-item"},[n("v-uni-text",[e._v("支付金额")]),e.payId?n("v-uni-view",{staticClass:"amount"},[e._v(e._s(e._f("formatMoney")(e.payRecord.pay_amount))),n("v-uni-label",[e._v("元")])],1):n("v-uni-view",{staticClass:"amount"},[e._v(e._s(e._f("formatMoney")(e.orderInfo.pay_amount))),n("v-uni-label",[e._v("元")])],1)],1)],1),n("v-uni-view",{staticClass:"pay-way"},[n("v-uni-view",{staticClass:"title"},[e._v("支付方式")]),n("v-uni-view",{staticClass:"pay-list"},[n("v-uni-view",{staticClass:"pay-item"},[n("v-uni-view",[n("v-uni-text",{staticClass:"iconfont iconicon-yuex"}),e._v("使用出行卡支付"),n("v-uni-label",[e._v("(余额"+e._s(e.userInfo.money)+"元)")])],1),n("v-uni-view",[n("v-uni-radio",{attrs:{value:"r1",color:"#FC8B27",checked:0===e.radioCurrent},on:{click:function(t){t=e.$handleEvent(t),e.switchWay(0)}}})],1)],1),n("v-uni-view",{staticClass:"pay-item"},[n("v-uni-view",[n("v-uni-text",{staticClass:"iconfont iconicon-weixinx"}),e._v("使用微信支付")],1),n("v-uni-view",[n("v-uni-radio",{attrs:{value:"r2",color:"#FC8B27",checked:1===e.radioCurrent},on:{click:function(t){t=e.$handleEvent(t),e.switchWay(1)}}})],1)],1),e.isWx?e._e():n("v-uni-view",{staticClass:"pay-item"},[n("v-uni-view",[n("v-uni-text",{staticClass:"iconfont iconicon-zhifubaox"}),e._v("使用支付宝支付")],1),n("v-uni-view",[n("v-uni-radio",{attrs:{value:"r3",color:"#FC8B27",checked:2===e.radioCurrent},on:{click:function(t){t=e.$handleEvent(t),e.switchWay(2)}}})],1)],1)],1)],1)],1):e._e(),e.orderInfo?n("v-uni-view",{staticClass:"btn-box"},[e.payId?n("v-uni-button",{staticClass:"confirm-pay btn",on:{click:function(t){t=e.$handleEvent(t),e.placeOrder(t)}}},[e._v("确认支付"+e._s(e._f("formatMoney")(e.payRecord.pay_amount)))]):n("v-uni-button",{staticClass:"confirm-pay btn",on:{click:function(t){t=e.$handleEvent(t),e.placeOrder(t)}}},[e._v("确认支付"+e._s(e._f("formatMoney")(e.orderInfo.pay_amount)))])],1):e._e()],1)},i=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},"79b7":function(e,t,n){"use strict";(function(e){var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=r(n("3b8d")),a=r(n("cebc")),o=n("2f62"),s=(r(n("a9ae")),r(n("5189")),r(n("2cdd")),n("e0ee")),c=r(n("fed2")),u=n("2a25"),d=n("09ce"),f={data:function(){return{radioCurrent:0,orderInfo:null,userInfo:null,carInfo:null,payRecord:null,accountPay:0,acId:0,couponId:0,isWx:!1,isViolate:!1}},components:{},computed:(0,a.default)({},(0,o.mapState)("settlement",{info:function(e){return e.info},wxconfig:function(e){return e.wxconfig}})),onLoad:function(e){this.couponId=e.couponId,this.orderId=e.orderId,this.payId=e.payId,this.isWx=(0,u.isWxBrowser)(),this.payId&&(document.title="预支付费用结算")},created:function(){this.getInfo(),this.getWxConfig()},methods:{getInfo:function(){var e=(0,i.default)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.orderId||this.payId||uni.navigateBack(),n={},this.payId?n.pay_id=this.payId:n.order_id=this.orderId,t&&(n.account_pay=this.accountPay),this.couponId&&(n.coupon_id=this.couponId),this.acId&&(n.ac_id=this.acId),!this.payId){e.next=22;break}return e.prev=7,e.next=10,this.$store.dispatch("settlement/getPayRecord",n);case 10:this.orderInfo=this.info.order_info,this.userInfo=this.info.user_info,this.payRecord=this.info.pay_record,this.isViolate=5===this.payRecord.record_type,this.isViolate&&(document.title="违约金费用结算"),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](7),uni.navigateTo({url:"/pages/index/index"});case 20:e.next=33;break;case 22:return e.prev=22,e.next=25,this.$store.dispatch("settlement/getFinishAmount",n);case 25:this.orderInfo=this.info.order_info,this.userInfo=this.info.user_info,this.carInfo=this.info.car_info,e.next=33;break;case 30:e.prev=30,e.t1=e["catch"](22),uni.navigateTo({url:"/pages/index/index"});case 33:case"end":return e.stop()}},e,this,[[7,17],[22,30]])}));function t(t){return e.apply(this,arguments)}return t}(),placeOrder:function(){var t=(0,i.default)(regeneratorRuntime.mark(function t(){var n,r,i,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n={order_id:this.orderId||this.payId},2===this.radioCurrent){t.next=22;break}if(t.prev=2,1===this.radioCurrent&&(this.isWx?n.pay_source="jsapi":n.pay_source="wap",n.return_url=d.payReturnUrl),!this.payId){t.next=10;break}return t.next=7,(0,s.recordPay)(n);case 7:r=t.sent,t.next=13;break;case 10:return t.next=12,(0,s.commonPay)(n);case 12:r=t.sent;case 13:e.log(r),r&&1===r.pay_status?(e.log("余额支付"),this.payId&&!this.isViolate?(e.log("支付："+this.payRecord.record_type),1===this.payRecord.record_type?(e.log("jump"),uni.navigateTo({url:"/pages/pickcar/pickcar?orderId=".concat(this.orderInfo.order_id)})):uni.navigateTo({url:"/pages/returncar/returncar"})):uni.navigateTo({url:"/pages/result/result"})):(e.log(111111),this.isWx?(0,c.default)(r,function(t){e.log("调用成功!",t)},function(t){e.log("调用失败!",t)}):location.href=r.mweb_url),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](2),this.$toast.info(t.t0.message);case 20:t.next=41;break;case 22:if(t.prev=22,n.pay_source="wap",n.return_url=d.payReturnUrl,!this.payId){t.next=31;break}return t.next=28,(0,s.recordAlipay)(n);case 28:i=t.sent,t.next=34;break;case 31:return t.next=33,(0,s.aliPay)(n);case 33:i=t.sent;case 34:a=i.urlParams,location.href="https://openapi.alipay.com/gateway.do?".concat(a),t.next=41;break;case 38:t.prev=38,t.t1=t["catch"](22),this.$toast.info(t.t1.message);case 41:case"end":return t.stop()}},t,this,[[2,17],[22,38]])}));function n(){return t.apply(this,arguments)}return n}(),switchWay:function(e){this.radioCurrent=e,0===e&&(this.accountPay=1),1!==e&&2!==e||(this.accountPay=0),this.getInfo(1)},changeCoupons:function(){var e="";this.orderId&&(e="/pages/coupons/coupons?order_id=".concat(this.orderId)),this.payId&&(e="/pages/coupons/coupons?pay_id=".concat(this.payId)),uni.navigateTo({url:e})},getWxConfig:function(){var t=(0,i.default)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("settlement/getWxConfig",{url:location.href});case 2:e.log("getWxConfig",this.wxconfig);case 3:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}()}};t.default=f}).call(this,n("5a52")["default"])},8891:function(e,t,n){"use strict";n.r(t);var r=n("752d"),i=n("dc2b");for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);n("af9a");var o=n("2877"),s=Object(o["a"])(i["default"],r["a"],r["b"],!1,null,"31419abf",null);t["default"]=s.exports},a9ae:function(e,t,n){"use strict";var r=n("288e");n("3b2b"),n("a481");var i=r(n("e143"));i.default.filter("formatDate",function(e,t){var n=e,r=t||"yyyy.MM.dd";String(e).length<13&&(n*=1e3),n=new Date(n),/(y+)/.test(r)&&(r=r.replace(RegExp.$1,"".concat(n.getFullYear()).substr(4-RegExp.$1.length)));var i={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds()};for(var a in i)if(new RegExp("(".concat(a,")")).test(r)){var o="".concat(i[a]);r=r.replace(RegExp.$1,1===RegExp.$1.length?o:"00".concat(o).substr(o.length))}return r})},af9a:function(e,t,n){"use strict";var r=n("fcd4"),i=n.n(r);i.a},b54a:function(e,t,n){"use strict";n("386b")("link",function(e){return function(t){return e(this,"a","href",t)}})},ce25:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.wrap[data-v-31419abf]{overflow:hidden;padding:%?20?% %?20?% 0;padding-bottom:%?180?%}.wrap .settlement-container[data-v-31419abf]{padding:0 %?88?%}.wrap .settlement-container .car-info[data-v-31419abf]{text-align:center;margin-bottom:%?30?%}.wrap .settlement-container .car-info uni-image[data-v-31419abf]{background:url(/static/car-01.png) no-repeat;background-size:cover;width:%?211?%;height:%?138?%;margin-bottom:%?10?%}.wrap .settlement-container .order-list .order-item[data-v-31419abf]{color:#666;font-size:%?24?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;line-height:%?64?%}.wrap .settlement-container .order-list .item-merge[data-v-31419abf]{position:relative}.wrap .settlement-container .order-list .item-merge.item-bottom[data-v-31419abf]{top:%?24?%}.wrap .settlement-container .order-list .item-merge.item-top[data-v-31419abf]{top:%?-16?%}.wrap .settlement-container .order-list .item-title[data-v-31419abf]{font-size:%?24?%;line-height:%?64?%}.wrap .settlement-container .order-list .item-red[data-v-31419abf]{color:red}.wrap .settlement-container .order-list .item-red .order-item[data-v-31419abf]{color:red}.wrap .settlement-container .line[data-v-31419abf]{height:%?1?%;width:100%;background:#f1f1f1;margin:%?20?% 0}.wrap .settlement-container .amount[data-v-31419abf]{color:red;font-size:%?44?%}.wrap .settlement-container .amount uni-label[data-v-31419abf]{font-size:%?24?%}.wrap .settlement-container .pay-way .title[data-v-31419abf]{text-align:center;font-size:%?28?%;color:#666;margin:%?40?% 0 %?20?%}.wrap .settlement-container .pay-way .pay-list .pay-item[data-v-31419abf]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#666;font-size:%?24?%;line-height:%?80?%}.wrap .settlement-container .pay-way .pay-list .pay-item .iconfont[data-v-31419abf]{font-size:%?40?%;vertical-align:middle;margin-right:%?12?%}.wrap .settlement-container .pay-way .pay-list .pay-item .iconfont.iconicon-yuex[data-v-31419abf]{color:#fc8b27}.wrap .settlement-container .pay-way .pay-list .pay-item .iconfont.iconicon-weixinx[data-v-31419abf]{color:#57b63c}.wrap .settlement-container .pay-way .pay-list .pay-item .iconfont.iconicon-zhifubaox[data-v-31419abf]{color:#62b5ff}.wrap .btn-box[data-v-31419abf]{position:fixed;bottom:0;left:0;width:100%;background:#fff;padding:%?40?% 0}.wrap .btn-box .confirm-pay[data-v-31419abf]{width:60%;-webkit-box-shadow:0 2px 8px 0 rgba(255,144,37,.59);box-shadow:0 2px 8px 0 rgba(255,144,37,.59)}.wrap .gray[data-v-31419abf]{color:#999;margin-left:%?6?%}.wrap .red[data-v-31419abf]{color:red}.wrap .green[data-v-31419abf]{color:#30d4a0}',""])},dc2b:function(e,t,n){"use strict";n.r(t);var r=n("79b7"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);t["default"]=i.a},e0ee:function(e,t,n){"use strict";var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.commonPay=c,t.aliPay=d,t.recordPay=l,t.recordAlipay=v;var i=r(n("795b"));n("96cf");var a=r(n("3b8d")),o=r(n("e143")),s=n("22f0");function c(e){return u.apply(this,arguments)}function u(){return u=(0,a.default)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.prepay)(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),o.default.prototype.$toast.info(e.t0.message),e.abrupt("return",i.default.reject(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,7]])})),u.apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return f=(0,a.default)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.alipay)(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),o.default.prototype.$toast.info(e.t0.message),e.abrupt("return",i.default.reject(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,7]])})),f.apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return p=(0,a.default)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.recordpay)(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),o.default.prototype.$toast.info(e.t0.message),e.abrupt("return",i.default.reject(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,7]])})),p.apply(this,arguments)}function v(e){return m.apply(this,arguments)}function m(){return m=(0,a.default)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.recordalipay)(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),o.default.prototype.$toast.info(e.t0.message),e.abrupt("return",i.default.reject(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,7]])})),m.apply(this,arguments)}},fcd4:function(e,t,n){var r=n("ce25");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("3317bbc9",r,!0,{sourceMap:!1,shadowMode:!1})},fed2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n("ff96");var r=function(e,t,n){WeixinJSBridge.invoke("getBrandWCPayRequest",e,function(e){"get_brand_wcpay_request:ok"==e.err_msg&&uni.navigateTo({url:"/pages/result/result"})})},i=r;t.default=i},ff96:function(e,t,n){"use strict";(function(t){var r=n("288e"),i=r(n("bd86"));n("28a5"),n("7f7f"),n("b54a"),n("4917");var a=r(n("f499"));n("a481"),function(t,n){e.exports=n(t)}(window,function(e,n){function r(t,n,r){e.WeixinJSBridge?WeixinJSBridge.invoke(t,s(n),function(e){u(t,e,r)}):f(t,r)}function o(t,n,r){e.WeixinJSBridge?WeixinJSBridge.on(t,function(e){r&&r.trigger&&r.trigger(e),u(t,e,n)}):f(t,r||n)}function s(e){return(e=e||{}).appId=T.appId,e.verifyAppId=T.appId,e.verifySignType="sha1",e.verifyTimestamp=T.timestamp+"",e.verifyNonceStr=T.nonceStr,e.verifySignature=T.signature,e}function c(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function u(e,t,n){"openEnterpriseChat"==e&&(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var r=t.errMsg;r||(r=t.err_msg,delete t.err_msg,r=function(e,t){var n=e,r=_[n];r&&(n=r);var i="ok";if(t){var a=t.indexOf(":");"confirm"==(i=t.substring(a+1))&&(i="ok"),"failed"==i&&(i="fail"),-1!=i.indexOf("failed_")&&(i=i.substring(7)),-1!=i.indexOf("fail_")&&(i=i.substring(5)),"access denied"!=(i=(i=i.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=i||(i="permission denied"),"config"==n&&"function not exist"==i&&(i="ok"),""==i&&(i="fail")}return n+":"+i}(e,r),t.errMsg=r),(n=n||{})._complete&&(n._complete(t),delete n._complete),r=t.errMsg||"",T.debug&&!n.isInnerInvoke&&alert((0,a.default)(t));var i=r.indexOf(":");switch(r.substring(i+1)){case"ok":n.success&&n.success(t);break;case"cancel":n.cancel&&n.cancel(t);break;default:n.fail&&n.fail(t)}n.complete&&n.complete(t)}function d(e){if(e){for(var t=0,n=e.length;t<n;++t){var r=e[t],i=m[r];i&&(e[t]=i)}return e}}function f(e,n){if(!(!T.debug||n&&n.isInnerInvoke)){var r=_[e];r&&(e=r),n&&n._complete&&delete n._complete,t.log('"'+e+'",',n||"")}}function l(){return(new Date).getTime()}function p(t){b&&(e.WeixinJSBridge?t():g.addEventListener&&g.addEventListener("WeixinJSBridgeReady",t,!1))}if(!e.jWeixin){var v,m={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},_=function(){var e={};for(var t in m)e[m[t]]=t;return e}(),g=e.document,h=g.title,y=navigator.userAgent.toLowerCase(),w=navigator.platform.toLowerCase(),x=!(!w.match("mac")&&!w.match("win")),I=-1!=y.indexOf("wxdebugger"),b=-1!=y.indexOf("micromessenger"),C=-1!=y.indexOf("android"),k=-1!=y.indexOf("iphone")||-1!=y.indexOf("ipad"),S=(L=y.match(/micromessenger\/(\d+\.\d+\.\d+)/)||y.match(/micromessenger\/(\d+\.\d+)/))?L[1]:"",M={initStartTime:l(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},R={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:k?1:C?2:-1,clientVersion:S,url:encodeURIComponent(location.href)},T={},P={_completes:[]},A={state:0,data:{}};p(function(){M.initEndTime=l()});var V=!1,E=[],B=(v={config:function(t){f("config",T=t);var n=!1!==T.check;p(function(){if(n)r(m.config,{verifyJsApiList:d(T.jsApiList)},function(){P._complete=function(e){M.preVerifyEndTime=l(),A.state=1,A.data=e},P.success=function(e){R.isPreVerifyOk=0},P.fail=function(e){P._fail?P._fail(e):A.state=-1};var e=P._completes;return e.push(function(){!function(e){if(!(x||I||T.debug||S<"6.0.2"||R.systemType<0)){var t=new Image;R.appId=T.appId,R.initTime=M.initEndTime-M.initStartTime,R.preVerifyTime=M.preVerifyEndTime-M.preVerifyStartTime,B.getNetworkType({isInnerInvoke:!0,success:function(e){R.networkType=e.networkType;var n="https://open.weixin.qq.com/sdk/report?v="+R.version+"&o="+R.isPreVerifyOk+"&s="+R.systemType+"&c="+R.clientVersion+"&a="+R.appId+"&n="+R.networkType+"&i="+R.initTime+"&p="+R.preVerifyTime+"&u="+R.url;t.src=n}})}}()}),P.complete=function(t){for(var n=0,r=e.length;n<r;++n)e[n]();P._completes=[]},P}()),M.preVerifyStartTime=l();else{A.state=1;for(var e=P._completes,t=0,i=e.length;t<i;++t)e[t]();P._completes=[]}}),B.invoke||(B.invoke=function(t,n,r){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,s(n),r)},B.on=function(t,n){e.WeixinJSBridge&&WeixinJSBridge.on(t,n)})},ready:function(e){0!=A.state?e():(P._completes.push(e),!b&&T.debug&&e())},error:function(e){S<"6.0.2"||(-1==A.state?e(A.data):P._fail=e)},checkJsApi:function(e){r("checkJsApi",{jsApiList:d(e.jsApiList)},(e._complete=function(e){if(C){var t=e.checkResult;t&&(e.checkResult=JSON.parse(t))}e=function(e){var t=e.checkResult;for(var n in t){var r=_[n];r&&(t[r]=t[n],delete t[n])}return e}(e)},e))},onMenuShareTimeline:function(e){o(m.onMenuShareTimeline,{complete:function(){r("shareTimeline",{title:e.title||h,desc:e.title||h,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){o(m.onMenuShareAppMessage,{complete:function(t){"favorite"===t.scene?r("sendAppMessage",{title:e.title||h,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):r("sendAppMessage",{title:e.title||h,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){o(m.onMenuShareQQ,{complete:function(){r("shareQQ",{title:e.title||h,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){o(m.onMenuShareWeibo,{complete:function(){r("shareWeiboApp",{title:e.title||h,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){o(m.onMenuShareQZone,{complete:function(){r("shareQZone",{title:e.title||h,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){r("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){r("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){r("startRecord",{},e)},stopRecord:function(e){r("stopRecord",{},e)},onVoiceRecordEnd:function(e){o("onVoiceRecordEnd",e)},playVoice:function(e){r("playVoice",{localId:e.localId},e)},pauseVoice:function(e){r("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){r("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){o("onVoicePlayEnd",e)},uploadVoice:function(e){r("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){r("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){r("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){r("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(C){var t=e.localIds;try{t&&(e.localIds=JSON.parse(t))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){r(m.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){r("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){r("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===V?(V=!0,r("getLocalImgData",{localId:e.localId},(e._complete=function(e){if(V=!1,0<E.length){var t=E.shift();wx.getLocalImgData(t)}},e))):E.push(e)},getNetworkType:function(e){r("getNetworkType",{},(e._complete=function(e){e=function(e){var t=e.errMsg;e.errMsg="getNetworkType:ok";var n=e.subtype;if(delete e.subtype,n)e.networkType=n;else{var r=t.indexOf(":"),i=t.substring(r+1);switch(i){case"wifi":case"edge":case"wwan":e.networkType=i;break;default:e.errMsg="getNetworkType:fail"}}return e}(e)},e))},openLocation:function(e){r("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)}},(0,i.default)(v,"getLocation",function(e){r(m.getLocation,{type:(e=e||{}).type||"wgs84"},(e._complete=function(e){delete e.type},e))}),(0,i.default)(v,"hideOptionMenu",function(e){r("hideOptionMenu",{},e)}),(0,i.default)(v,"showOptionMenu",function(e){r("showOptionMenu",{},e)}),(0,i.default)(v,"closeWindow",function(e){r("closeWindow",{},e=e||{})}),(0,i.default)(v,"hideMenuItems",function(e){r("hideMenuItems",{menuList:e.menuList},e)}),(0,i.default)(v,"showMenuItems",function(e){r("showMenuItems",{menuList:e.menuList},e)}),(0,i.default)(v,"hideAllNonBaseMenuItem",function(e){r("hideAllNonBaseMenuItem",{},e)}),(0,i.default)(v,"showAllNonBaseMenuItem",function(e){r("showAllNonBaseMenuItem",{},e)}),(0,i.default)(v,"scanQRCode",function(e){r("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(k){var t=e.resultStr;if(t){var n=JSON.parse(t);e.resultStr=n&&n.scan_code&&n.scan_code.scan_result}}},e))}),(0,i.default)(v,"openAddress",function(e){r(m.openAddress,{},(e._complete=function(e){var t;(t=e).postalCode=t.addressPostalCode,delete t.addressPostalCode,t.provinceName=t.proviceFirstStageName,delete t.proviceFirstStageName,t.cityName=t.addressCitySecondStageName,delete t.addressCitySecondStageName,t.countryName=t.addressCountiesThirdStageName,delete t.addressCountiesThirdStageName,t.detailInfo=t.addressDetailInfo,delete t.addressDetailInfo,e=t},e))}),(0,i.default)(v,"openProductSpecificView",function(e){r(m.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)}),(0,i.default)(v,"addCard",function(e){for(var t=e.cardList,n=[],i=0,a=t.length;i<a;++i){var o=t[i],s={card_id:o.cardId,card_ext:o.cardExt};n.push(s)}r(m.addCard,{card_list:n},(e._complete=function(e){var t=e.card_list;if(t){for(var n=0,r=(t=JSON.parse(t)).length;n<r;++n){var i=t[n];i.cardId=i.card_id,i.cardExt=i.card_ext,i.isSuccess=!!i.is_succ,delete i.card_id,delete i.card_ext,delete i.is_succ}e.cardList=t,delete e.card_list}},e))}),(0,i.default)(v,"chooseCard",function(e){r("chooseCard",{app_id:T.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))}),(0,i.default)(v,"openCard",function(e){for(var t=e.cardList,n=[],i=0,a=t.length;i<a;++i){var o=t[i],s={card_id:o.cardId,code:o.code};n.push(s)}r(m.openCard,{card_list:n},e)}),(0,i.default)(v,"consumeAndShareCard",function(e){r(m.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)}),(0,i.default)(v,"chooseWXPay",function(e){r(m.chooseWXPay,c(e),e)}),(0,i.default)(v,"openEnterpriseRedPacket",function(e){r(m.openEnterpriseRedPacket,c(e),e)}),(0,i.default)(v,"startSearchBeacons",function(e){r(m.startSearchBeacons,{ticket:e.ticket},e)}),(0,i.default)(v,"stopSearchBeacons",function(e){r(m.stopSearchBeacons,{},e)}),(0,i.default)(v,"onSearchBeacons",function(e){o(m.onSearchBeacons,e)}),(0,i.default)(v,"openEnterpriseChat",function(e){r("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)}),(0,i.default)(v,"launchMiniProgram",function(e){r("launchMiniProgram",{targetAppId:e.targetAppId,path:function(e){if("string"==typeof e&&0<e.length){var t=e.split("?")[0],n=e.split("?")[1];return t+=".html",void 0!==n?t+"?"+n:t}}(e.path),envVersion:e.envVersion},e)}),(0,i.default)(v,"miniProgram",{navigateBack:function(e){e=e||{},p(function(){r("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)})},navigateTo:function(e){p(function(){r("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)})},redirectTo:function(e){p(function(){r("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)})},switchTab:function(e){p(function(){r("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)})},reLaunch:function(e){p(function(){r("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)})},postMessage:function(e){p(function(){r("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)})},getEnv:function(t){p(function(){t({miniprogram:"miniprogram"===e.__wxjs_environment})})}}),v),W=1,O={};return g.addEventListener("error",function(e){if(!C){var t=e.target,n=t.tagName,r=t.src;if(("IMG"==n||"VIDEO"==n||"AUDIO"==n||"SOURCE"==n)&&-1!=r.indexOf("wxlocalresource://")){e.preventDefault(),e.stopPropagation();var i=t["wx-id"];if(i||(i=W++,t["wx-id"]=i),O[i])return;O[i]=!0,wx.ready(function(){wx.getLocalImgData({localId:r,success:function(e){t.src=e.localData}})})}}},!0),g.addEventListener("load",function(e){if(!C){var t=e.target,n=t.tagName;if(t.src,"IMG"==n||"VIDEO"==n||"AUDIO"==n||"SOURCE"==n){var r=t["wx-id"];r&&(O[r]=!1)}}},!0),n&&(e.wx=e.jWeixin=B),B}var L})}).call(this,n("5a52")["default"])}}]);